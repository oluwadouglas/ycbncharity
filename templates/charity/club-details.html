{% extends 'charity/base.html' %}
{% load static %}

{% block title %}{{ page_title|default:club.title }}{% endblock %}

{% block extra_css %}
<style>
  .club-hero { background: linear-gradient(135deg, #1A685B, #2A8B75); color: white; padding: 70px 0; margin-bottom: 40px; position: relative; overflow: hidden; }
  .club-hero .badge { background: #FFAC00; color: #1A685B; border-radius: 20px; padding: 8px 16px; font-weight: 700; }
  .club-section { background: #fff; border-radius: 12px; box-shadow: 0 6px 24px rgba(0,0,0,0.06); margin-bottom: 24px; overflow: hidden; }
  .club-section .section-title { margin: 0; font-weight: 700; }
  .club-section .section-header { background: #f8f9fa; padding: 14px 18px; border-bottom: 1px solid #eee; }
  .club-section .section-body { padding: 22px; }
  .club-meta { display:flex; flex-wrap:wrap; gap:12px; }
  .club-meta .item { background: #f6f6f6; border-radius: 18px; padding: 6px 12px; font-weight: 500; }
  .club-meta .item i { color: var(--theme-color2); margin-right: 6px; }
  /* Hero-specific overrides: remove white background and ensure high-contrast text */
  .club-hero .club-meta .item { background: transparent; color: #fff; border: 1px solid rgba(255,255,255,0.35); text-shadow: 0 1px 2px rgba(0,0,0,0.35); }
  .club-hero .club-meta .item i { color: #FFAC00; }
  .club-image { border-radius: 12px; overflow: hidden; background: linear-gradient(135deg, #0f3f36, #1A685B); min-height: 220px; display:flex; align-items:center; justify-content:center; position: relative; }
  .club-image img { width: 100%; height: 100%; object-fit: cover; display: block; }
  .club-image .icon-circle { width: 140px; height: 140px; border-radius: 50%; background: #1A685B; display:flex; align-items:center; justify-content:center; box-shadow: 0 8px 24px rgba(0,0,0,0.25); border: 3px solid rgba(255,255,255,0.9); }
  .club-image .icon-circle i { font-size: 3rem; color: #fff; }
  .club-image .icon-circle img { width: 80%; height: 80%; object-fit: contain; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.25)); }
</style>
{% endblock %}

{% block content %}
<section class="club-hero">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-8">
        <div class="mb-2">
          <span class="badge">YCBN Club</span>
        </div>
        <h1 class="h2 fw-bold mb-2">{{ club.title }}</h1>
        <div class="club-meta">
          {% if club.school %}<div class="item"><i class="fas fa-school"></i>{{ club.school.name }}</div>{% endif %}
          {% if club.location %}<div class="item"><i class="fas fa-map-marker-alt"></i>{{ club.location }}</div>{% endif %}
          {% if club.member_count %}<div class="item"><i class="fas fa-users"></i>{{ club.member_count }} members</div>{% endif %}
          {% if club.meeting_schedule %}<div class="item"><i class="fas fa-calendar-alt"></i>{{ club.meeting_schedule }}</div>{% endif %}
        </div>
      </div>
      <div class="col-lg-4 mt-3 mt-lg-0">
        <div class="club-image">
          {% if club.image %}
          <img src="{{ club.image.url }}" alt="{{ club.title }}">
          {% else %}
            {% if club.icon %}
            <div class="icon-circle">
              <img src="{{ club.icon.url }}" alt="{{ club.title }} icon">
            </div>
            {% else %}
            <div class="icon-circle">
              <i class="fas fa-users"></i>
            </div>
            {% endif %}
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

<section class="container">
  {% if club.description %}
  <div class="club-section">
    <div class="section-header">
      <h5 class="section-title"><i class="fas fa-info-circle me-2 text-muted"></i>About the Club</h5>
    </div>
    <div class="section-body">
      {{ club.description|linebreaks }}
    </div>
  </div>
  {% endif %}

  <div class="club-section">
    <div class="section-header">
      <h5 class="section-title"><i class="fas fa-id-card me-2 text-muted"></i>Club Details</h5>
    </div>
    <div class="section-body">
      <div class="row g-3">
        {% if club.coordinator %}
        <div class="col-md-6">
          <div class="club-meta"><div class="item w-100"><i class="fas fa-user"></i>Coordinator: {{ club.coordinator }}</div></div>
        </div>
        {% endif %}
        {% if club.meeting_schedule %}
        <div class="col-md-6">
          <div class="club-meta"><div class="item w-100"><i class="fas fa-clock"></i>Schedule: {{ club.meeting_schedule }}</div></div>
        </div>
        {% endif %}
        {% if club.location %}
        <div class="col-md-6">
          <div class="club-meta"><div class="item w-100"><i class="fas fa-map-marker-alt"></i>Location: {{ club.location }}</div></div>
        </div>
        {% endif %}
        <div class="col-md-6">
          <div class="club-meta"><div class="item w-100"><i class="fas fa-toggle-on"></i>Status: {% if club.is_active %}Active{% else %}Inactive{% endif %}</div></div>
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex justify-content-between align-items-center mb-4">
    <a href="{% url 'charity:clubs' %}" class="th-btn style4"><i class="fas fa-arrow-left me-2"></i>Back to Clubs</a>
    {% if club.school %}<a href="{% url 'charity:school_detail' club.school.id %}" class="th-btn">View Partner School<i class="fas fa-arrow-right ms-2"></i></a>{% endif %}
  </div>
</section>
{% endblock %}
